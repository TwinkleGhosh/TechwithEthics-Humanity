<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tech, Ethics & Humanity — Twinkle Ghosh</title>
<style>
  :root{
    /* Color palette */
    --bg-deep:#020816;
    --bg-surface:#0a1128;
    --bg-elevated:#0f1a3a;
    --neon-primary:#00e6ff;
    --neon-secondary:#0099ff;
    --text-primary:#f5f7fa;
    --text-secondary:#b4bcc8;
    --text-muted:#7a8394;
    --glass-light: rgba(255,255,255,0.04);
    --glass-medium: rgba(255,255,255,0.06);
    
    /* Spacing scale */
    --space-xs: 8px;
    --space-sm: 12px;
    --space-md: 20px;
    --space-lg: 32px;
    --space-xl: 48px;
    --space-2xl: 64px;
    --space-3xl: 96px;
    
    /* Typography scale */
    --text-xs: 12px;
    --text-sm: 13px;
    --text-base: 15px;
    --text-lg: 18px;
    --text-xl: 24px;
    --text-2xl: 32px;
    --text-3xl: 48px;
    --text-4xl: 56px;
    
    /* Elevation & effects */
    --shadow-sm: 0 2px 8px rgba(0,0,0,0.3);
    --shadow-md: 0 8px 24px rgba(0,0,0,0.4);
    --shadow-lg: 0 16px 48px rgba(0,0,0,0.5);
    --glow-neon: 0 0 20px rgba(0,230,255,0.15), 0 0 40px rgba(0,230,255,0.08);
    --glow-subtle: 0 4px 16px rgba(0,230,255,0.1);
    
    /* Border radius */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 20px;
    
    /* Transitions */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 400ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  *{
    box-sizing:border-box;
    margin:0;
    padding:0;
  }
  
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Space+Grotesk:wght@400;500;600;700&display=swap');
  
  body{
    font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', Roboto, sans-serif;
    background: radial-gradient(ellipse at top, #0a1128 0%, var(--bg-deep) 50%);
    color:var(--text-primary);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    min-height:100vh;
    padding: var(--space-lg) var(--space-md);
    line-height: 1.6;
  }

  .container{
    width:100%;
    max-width:1200px;
    margin:0 auto;
  }

  /* ==================== HEADER ==================== */
  header.site{
    display:flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: var(--space-xl);
    margin-bottom: var(--space-2xl);
    padding-bottom: var(--space-xl);
    border-bottom: 1px solid rgba(255,255,255,0.05);
  }

  .title{
    display:flex;
    flex-direction: column;
    gap: var(--space-md);
    align-items: center;
    width: 100%;
    max-width: 900px;
  }
  
  .logo{
    display: none;
  }
  
  .title > div {
    width: 100%;
  }
  
  h1{
    margin: 0 0 var(--space-md) 0;
    font-size: var(--text-4xl);
    font-weight: 900;
    letter-spacing: -1.5px;
    line-height: 1.1;
    font-family: 'Orbitron', sans-serif;
    background: linear-gradient(135deg, #ffffff 0%, var(--neon-primary) 50%, var(--neon-secondary) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-transform: uppercase;
    position: relative;
    text-shadow: 0 0 30px rgba(0,230,255,0.3);
    text-align: center;
  }
  
  h1::after {
    content: '';
    position: absolute;
    bottom: -12px;
    left: 50%;
    transform: translateX(-50%);
    width: 120px;
    height: 3px;
    background: linear-gradient(90deg, transparent, var(--neon-primary), transparent);
    border-radius: 2px;
  }
  
  p.lead{
    color:var(--text-secondary);
    font-size: var(--text-base);
    line-height: 1.7;
    max-width: 600px;
    margin: 0 auto;
    text-align: center;
    font-weight: 400;
    letter-spacing: 0.2px;
  }
  
  p.lead em {
    color: var(--text-muted);
    font-style: normal;
    font-size: var(--text-sm);
    display: block;
    margin-top: var(--space-sm);
    font-weight: 500;
    letter-spacing: 0.3px;
  }

  /* ==================== SEARCH BAR ==================== */
  .search-wrap{
    display:flex;
    align-items:center;
    gap: var(--space-sm);
    background: var(--glass-medium);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    padding: var(--space-sm) var(--space-md);
    border-radius: var(--radius-lg);
    border:1px solid rgba(255,255,255,0.08);
    box-shadow: var(--shadow-md);
    transition: all var(--transition-base);
    width: 100%;
    max-width: 600px;
  }
  
  .search-wrap:focus-within {
    background: var(--glass-light);
    border-color: rgba(0,230,255,0.3);
    box-shadow: var(--glow-neon), var(--shadow-lg);
    transform: translateY(-2px);
  }
  
  .search-wrap svg {
    opacity: 0.6;
    transition: opacity var(--transition-fast);
    flex-shrink: 0;
  }
  
  .search-wrap:focus-within svg {
    opacity: 1;
    color: var(--neon-primary);
  }
  
  .search-wrap input{
    background:transparent;
    border:none;
    outline:none;
    color:var(--text-primary);
    font-size: var(--text-base);
    width: 100%;
    font-weight: 400;
  }
  
  .search-wrap input::placeholder {
    color: var(--text-muted);
  }
  
  .kbd{
    font-size: var(--text-xs);
    color:var(--text-muted);
    padding: 4px 8px;
    border-radius: var(--radius-sm);
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(255,255,255,0.06);
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', monospace;
    white-space: nowrap;
    flex-shrink: 0;
  }

  /* ==================== TABS ==================== */
  .tabs{
    display:flex;
    justify-content: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-xl);
    overflow-x: auto;
    padding-bottom: var(--space-xs);
  }
  
  .tabs::-webkit-scrollbar {
    height: 4px;
  }
  
  .tabs::-webkit-scrollbar-thumb {
    background: rgba(255,255,255,0.1);
    border-radius: 2px;
  }
  
  .tab-btn{
    padding: var(--space-sm) var(--space-md);
    border-radius: var(--radius-md);
    border: 1px solid rgba(255,255,255,0.06);
    background: var(--glass-light);
    backdrop-filter: blur(8px);
    color: var(--text-secondary);
    cursor: pointer;
    font-weight: 600;
    font-size: var(--text-sm);
    transition: all var(--transition-base);
    white-space: nowrap;
    position: relative;
  }
  
  .tab-btn::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 50%;
    width: 0;
    height: 2px;
    background: var(--neon-primary);
    transform: translateX(-50%);
    transition: width var(--transition-base);
  }
  
  .tab-btn:hover{
    transform: translateY(-2px);
    color: var(--text-primary);
    box-shadow: var(--glow-subtle);
    border-color: rgba(255,255,255,0.12);
  }
  
  .tab-btn.active{
    background: linear-gradient(135deg, rgba(0,230,255,0.12), rgba(0,153,255,0.06));
    color: var(--neon-primary);
    border: 1px solid rgba(0,230,255,0.25);
    box-shadow: var(--glow-subtle);
    transform: none;
  }
  
  .tab-btn.active::after {
    width: 60%;
  }

  /* ==================== CONTENT AREA ==================== */
  .content{
    background: linear-gradient(180deg, var(--glass-medium), var(--glass-light));
    backdrop-filter: blur(16px);
    border-radius: var(--radius-xl);
    padding: var(--space-xl);
    border: 1px solid rgba(255,255,255,0.06);
    box-shadow: var(--shadow-lg);
  }

  /* ==================== POST CARDS ==================== */
  .post{
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
    padding: var(--space-xl);
    margin-bottom: var(--space-md);
    border-radius: var(--radius-lg);
    background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    transition: all var(--transition-base);
    border: 1px solid rgba(255,255,255,0.04);
    position: relative;
    overflow: hidden;
  }
  
  .post::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at top center, rgba(0,230,255,0.03), transparent 60%);
    opacity: 0;
    transition: opacity var(--transition-base);
    pointer-events: none;
  }
  
  .post:hover{
    transform: translateY(-4px);
    box-shadow: var(--glow-subtle), var(--shadow-md);
    border-color: rgba(0,230,255,0.15);
  }
  
  .post:hover::before {
    opacity: 1;
  }

  /* Post thumbnail */
  .post .thumb{
    width: 100%;
    height: 400px;
    overflow: hidden;
    border-radius: var(--radius-md);
    border: 1px solid rgba(255,255,255,0.08);
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(0,0,0,0.4), rgba(0,0,0,0.2));
    position: relative;
    box-shadow: var(--shadow-sm);
    order: -1;
  }
  
  /* Fallback backgrounds for each post if images don't load */
  #post1 .thumb {
    background: 
      radial-gradient(circle at 40% 50%, rgba(0,230,255,0.4) 0%, transparent 45%),
      radial-gradient(circle at 60% 50%, rgba(0,153,255,0.3) 0%, transparent 50%),
      radial-gradient(circle at 30% 30%, rgba(255,255,255,0.05) 0%, transparent 40%),
      linear-gradient(135deg, #0a1530 0%, #020816 100%);
  }
  
  #post2 .thumb {
    background: 
      radial-gradient(circle at 50% 40%, rgba(0,230,255,0.35) 0%, transparent 55%),
      radial-gradient(circle at 30% 60%, rgba(0,153,255,0.2) 0%, transparent 50%),
      radial-gradient(circle at 70% 60%, rgba(0,153,255,0.2) 0%, transparent 50%),
      linear-gradient(135deg, #0d1a3a 0%, #020816 100%);
  }
  
  #post3 .thumb {
    background: 
      radial-gradient(ellipse at 50% 40%, rgba(0,230,255,0.3) 0%, transparent 60%),
      radial-gradient(circle at 25% 50%, rgba(0,153,255,0.15) 0%, transparent 45%),
      radial-gradient(circle at 75% 50%, rgba(0,153,255,0.15) 0%, transparent 45%),
      linear-gradient(135deg, #0a1530 0%, #020816 100%);
  }
  
  .post .thumb img {
    background: transparent;
  }
  
  .post .thumb::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, transparent 50%, rgba(0,0,0,0.3));
    pointer-events: none;
  }
  
  .post .thumb img{
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
    transform-origin: center;
    transition: transform var(--transition-slow);
  }
  
  .post .thumb img[src=""]:after,
  .post .thumb img:not([src]) {
    display: none;
  }
  
  .post .thumb:hover img{
    transform: scale(1.08);
  }

  /* Post metadata */
  .meta h3{
    margin: 0 0 var(--space-sm) 0;
    color: var(--text-primary);
    font-size: var(--text-xl);
    font-weight: 700;
    letter-spacing: -0.3px;
    line-height: 1.3;
    order: 2;
  }
  
  .meta p.small{
    margin: 0 0 var(--space-md) 0;
    color: var(--text-muted);
    font-size: var(--text-xs);
    line-height: 1.4;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: 600;
    order: 1;
  }
  
  .meta .short{
    margin: 0 0 var(--space-md) 0;
    color: var(--text-secondary);
    font-size: var(--text-base);
    line-height: 1.6;
    order: 3;
  }

  /* Actions */
  .actions{
    margin-top: var(--space-md);
    display: flex;
    gap: var(--space-sm);
    align-items: center;
    order: 4;
  }
  
  .btn{
    padding: 10px var(--space-md);
    border-radius: var(--radius-md);
    border: 1px solid rgba(255,255,255,0.08);
    background: var(--glass-light);
    color: var(--text-primary);
    cursor: pointer;
    font-weight: 600;
    font-size: var(--text-sm);
    transition: all var(--transition-base);
    white-space: nowrap;
  }
  
  .btn:hover {
    background: var(--glass-medium);
    border-color: rgba(255,255,255,0.15);
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
  }
  
  .btn.primary{
    display: none;
  }

  /* Read more panel */
  .read-more{
    margin-top: var(--space-md);
    padding: var(--space-md);
    border-radius: var(--radius-md);
    background: rgba(0,0,0,0.2);
    backdrop-filter: blur(8px);
    max-height: 0;
    overflow: hidden;
    transition: max-height var(--transition-slow) ease, opacity var(--transition-base);
    opacity: 0;
    border: 1px solid rgba(255,255,255,0.04);
    order: 5;
  }
  
  .read-more.open{
    max-height: 800px;
    opacity: 1;
    margin-top: var(--space-lg);
  }
  
  .read-more h4 {
    margin: 0 0 var(--space-md) 0;
    color: var(--neon-primary);
    font-size: var(--text-base);
    font-weight: 600;
    letter-spacing: -0.1px;
  }
  
  .read-more p {
    margin: 0 0 var(--space-md) 0;
    color: var(--text-secondary);
    font-size: var(--text-sm);
    line-height: 1.7;
  }
  
  .read-more p:last-child {
    margin-bottom: 0;
  }

  .highlight{
    background: linear-gradient(90deg, rgba(0,230,255,0.2), rgba(0,230,255,0.1));
    color: var(--neon-primary);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    font-weight: 600;
  }
  
  /* Visual indicator for matched content - subtle glow instead of text highlighting */
  .meta.has-match {
    position: relative;
  }
  
  .meta.has-match::before {
    content: '';
    position: absolute;
    top: -4px;
    left: -4px;
    right: -4px;
    bottom: -4px;
    background: linear-gradient(135deg, rgba(0,230,255,0.08), transparent);
    border-radius: var(--radius-md);
    pointer-events: none;
    z-index: -1;
  }

  /* ==================== SEARCH RESULT ==================== */
  .result-box{
    margin-top: var(--space-xl);
    padding: var(--space-lg);
    border-radius: var(--radius-lg);
    background: linear-gradient(135deg, rgba(0,230,255,0.08), rgba(0,153,255,0.03));
    border: 1px solid rgba(0,230,255,0.2);
    color: var(--text-primary);
    box-shadow: var(--glow-subtle);
    backdrop-filter: blur(12px);
  }
  
  .result-box h4{
    margin: 0 0 var(--space-sm) 0;
    color: var(--neon-primary);
    font-size: var(--text-lg);
    font-weight: 700;
  }
  
  .result-box p{
    margin: 0;
    color: var(--text-secondary);
    font-size: var(--text-base);
    line-height: 1.7;
  }

  /* ==================== RESPONSIVE ==================== */
  @media (max-width: 960px){
    h1 {
      font-size: var(--text-3xl);
    }
    
    .search-wrap{
      max-width: 100%;
    }
  }
  
  @media (max-width: 760px){
    body {
      padding: var(--space-md) var(--space-sm);
    }
    
    h1 {
      font-size: var(--text-2xl);
      letter-spacing: -1px;
    }
    
    p.lead {
      font-size: var(--text-sm);
    }
    
    .content {
      padding: var(--space-md);
    }
    
    .post{
      flex-direction: column;
      gap: var(--space-md);
      padding: var(--space-md);
    }
    
    .post .thumb{
      width: 100%;
      height: 350px;
    }
    
    .search-wrap input{
      font-size: var(--text-sm);
    }
    
    .tabs {
      gap: var(--space-xs);
    }
    
    .tab-btn {
      font-size: var(--text-xs);
      padding: var(--space-xs) var(--space-sm);
    }
  }
</style>
</head>
<body>
  <div class="container">
    <header class="site">
      <div class="title">
        <div class="logo">TG</div>
        <div>
          <h1>Tech, Ethics & Humanity</h1>
          <p class="lead">Exploring how technology shapes — and sometimes challenges — what it means to be human. <em>By Twinkle Ghosh</em></p>
        </div>
      </div>

      <div class="search-wrap" role="search" aria-label="Search posts">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="opacity:.9"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></circle></svg>
        <input id="search" placeholder="Search posts — try: AI, ethics, empathy, data, privacy..." autocomplete="off"/>
        <div class="kbd">⏎</div>
      </div>
    </header>

    <nav class="tabs" role="tablist" aria-label="Posts">
      <button class="tab-btn active" data-tab="post1">Should AI Be Allowed to Make Moral Decisions?</button>
      <button class="tab-btn" data-tab="post2">Are We Losing Empathy in the Digital Age?</button>
      <button class="tab-btn" data-tab="post3">Data: The New Human Identity</button>
    </nav>

    <main class="content" id="mainContent">
      <!-- POST 1 -->
      <section id="post1" class="post-panel" aria-labelledby="post1-title">
        <article class="post" data-post="1">
          <div class="thumb" id="thumb1">
            <img src="https://i.ibb.co/xdc7JY2/image-1-png.png" alt="AI moral decisions - robotic hand reaching toward holographic heart" loading="lazy">
          </div>
          <div class="meta">
            <p class="small">Where AI already makes moral choices</p>
            <h3 id="post1-title">Should AI Be Allowed to Make Moral Decisions?</h3>
            <p class="short">Can machines understand values? This post explores tensions between algorithmic logic and human judgment.</p>

            <div class="actions">
              <button class="btn" onclick="toggleRead(this)">Read More</button>
              <button class="btn primary" onclick="openTab('post1')">Open Post</button>
            </div>

            <div class="read-more" aria-hidden="true">
              <h4>Full discussion — AI & moral decisions</h4>
              <p>
                Today AI systems already shape life-and-death situations — for example, self-driving car systems that must choose actions in emergencies,
                or AI that helps prioritize patients. Machines follow rules and optimize objectives, but values are complex and contextual.
                Human oversight, transparent objectives, and multi-stakeholder governance are necessary to reduce harm and ensure accountability.
              </p>
              <p>
                Case study: In healthcare, algorithmic triage can speed decisions, but biased training data or lack of contextual information produces unequal outcomes.
                The conclusion: preserve human-in-the-loop decisions for high-stakes moral outcomes.
              </p>
            </div>
          </div>
        </article>
      </section>

      <!-- POST 2 -->
      <section id="post2" class="post-panel" aria-labelledby="post2-title" style="display:none">
        <article class="post" data-post="2">
          <div class="thumb" id="thumb2">
            <img src="https://i.ibb.co/B5LL2zhv/image-2-png.png" alt="Empathy in the digital age - holographic brain with connected people" loading="lazy">
          </div>
          <div class="meta">
            <p class="small">How constant connectivity affects emotions</p>
            <h3 id="post2-title">Are We Losing Empathy in the Digital Age?</h3>
            <p class="short">Social feeds reward engagement, not nuance — and that can erode empathy. This post explores the psychology and fixable design choices.</p>

            <div class="actions">
              <button class="btn" onclick="toggleRead(this)">Read More</button>
              <button class="btn primary" onclick="openTab('post2')">Open Post</button>
            </div>

            <div class="read-more" aria-hidden="true">
              <h4>Full discussion — Empathy & algorithms</h4>
              <p>
                Social media and recommendation systems amplify content that triggers strong emotional reactions. Over time, users can develop echo chambers,
                desensitization, and conflict-prone patterns. To restore empathy we need humane design: friction for viral outrage, richer context, and features that encourage perspective-taking.
              </p>
              <p>
                Practical steps: slow-down affordances, algorithmic nudges for balanced exposure, and community-building features focused on shared activities rather than outrage-based engagement.
              </p>
            </div>
          </div>
        </article>
      </section>

      <!-- POST 3 -->
      <section id="post3" class="post-panel" aria-labelledby="post3-title" style="display:none">
        <article class="post" data-post="3">
          <div class="thumb" id="thumb3">
            <img src="https://i.ibb.co/xtg7swmX/image-3-png.png" alt="Data as identity - wireframe figure with ethics and humanity scales" loading="lazy">
          </div>
          <div class="meta">
            <p class="small">How data defines our digital selves</p>
            <h3 id="post3-title">Data: The New Human Identity</h3>
            <p class="short">Our online data forms a portrait of preferences, behaviors, and vulnerabilities — this post outlines who controls that portrait and why it matters.</p>

            <div class="actions">
              <button class="btn" onclick="toggleRead(this)">Read More</button>
              <button class="btn primary" onclick="openTab('post3')">Open Post</button>
            </div>

            <div class="read-more" aria-hidden="true">
              <h4>Full discussion — Data & rights</h4>
              <p>
                Data is not neutral. Aggregation and inferences can profile people in ways that affect housing, jobs, and freedoms. Important ethical questions: who owns derived data,
                how is consent recorded and respected, and how do we prevent discriminatory inference?
              </p>
              <p>
                Solutions include stronger data portability, meaningful consent UX, and legal guardrails to protect people from opaque profiling.
              </p>
            </div>
          </div>
        </article>
      </section>

      <!-- Search result / summary -->
      <div id="searchResult" class="result-box" style="display:none">
        <h4>Search summary</h4>
        <p id="searchSummary">...</p>
      </div>
    </main>
  </div>

<script>
  // Tab switching
  const tabs = document.querySelectorAll('.tab-btn');
  tabs.forEach(btn => btn.addEventListener('click', () => {
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    openTab(btn.dataset.tab);
  }));

  function openTab(id){
    document.querySelectorAll('.post-panel').forEach(section => section.style.display = 'none');
    const el = document.getElementById(id);
    if(el) el.style.display = 'block';
    el.scrollIntoView({behavior:'smooth', block:'start'});
  }

  // Read more toggle
  function toggleRead(button){
    const read = button.closest('.meta').querySelector('.read-more');
    if(!read) return;
    read.classList.toggle('open');
    read.setAttribute('aria-hidden', !read.classList.contains('open'));
    button.textContent = read.classList.contains('open') ? 'Show Less' : 'Read More';
  }

  // Search & highlight & auto-expand
  const searchInput = document.getElementById('search');
  const searchResult = document.getElementById('searchResult');
  const searchSummary = document.getElementById('searchSummary');

  function escapeHtml(text){ return text.replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

  function clearHighlights(){
    document.querySelectorAll('.meta').forEach(meta => {
      meta.classList.remove('has-match');
    });
  }

  // initialize: no longer need to store original HTML
  // removed the dataset.orig initialization

  function performSearch(query){
    const q = query.trim().toLowerCase();
    clearHighlights();
    if(!q){
      searchResult.style.display = 'none';
      return;
    }

    let totalMatches = 0;
    const matchedSentences = [];

    // process each post
    document.querySelectorAll('.post').forEach(post => {
      const meta = post.querySelector('.meta');
      // get text content for searching (not innerHTML to avoid code)
      const textContent = meta.innerText || meta.textContent;
      const lower = textContent.toLowerCase();

      if(lower.includes(q)){
        // Instead of modifying innerHTML, add a CSS class for highlighting
        meta.classList.add('has-match');
        
        // expand read-more if exists
        const read = meta.querySelector('.read-more');
        if(read && !read.classList.contains('open')){
          read.classList.add('open');
          read.setAttribute('aria-hidden','false');
          const btn = meta.querySelector('.btn');
          if(btn && btn.textContent.trim().toLowerCase()==='read more') btn.textContent = 'Show Less';
        }
        // make the post visible (open the parent tab)
        const panel = post.closest('.post-panel');
        if(panel) panel.style.display = 'block';
        
        // find sentences containing query (split by punctuation)
        const sentences = textContent.split(/(?<=[.?!])\s+/);
        sentences.forEach(s => {
          if(s.toLowerCase().includes(q)){
            matchedSentences.push(s.trim());
            totalMatches++;
          }
        });
      } else {
        meta.classList.remove('has-match');
      }
    });

    // Build a short "conclusion" from matched sentences
    let conclusion = '';
    if(totalMatches === 0){
      conclusion = `No direct matches for "${q}" were found in the main posts. Try related terms like "AI", "ethics", "privacy", "empathy".`;
    } else {
      // pick up to 4 distinct sentences to form a summary
      const pick = [...new Set(matchedSentences)].slice(0,4);
      conclusion = `Found ${totalMatches} match${totalMatches>1?'es':''} for "${q}". Key excerpts: ` + pick.join(' ');
      // add short generated recommendation
      conclusion += ' Recommendation: prioritize human oversight, clearer consent, and design that preserves empathy when building technology.';
    }

    // show result
    searchSummary.textContent = conclusion;
    searchResult.style.display = 'block';
    // subtle focus on summary:
    searchResult.scrollIntoView({behavior:'smooth', block:'center'});
  }

  searchInput.addEventListener('keydown', e => {
    if(e.key === 'Enter'){
      performSearch(searchInput.value);
    } else {
      debounce(() => performSearch(searchInput.value), 220)();
    }
  });

  function debounce(fn, wait=200){
    let t;
    return function(...args){ clearTimeout(t); t = setTimeout(()=>fn.apply(this,args), wait); };
  }

  openTab('post1');

  // Removed click animation on highlight since we're no longer using inline highlights

  document.querySelectorAll('form').forEach(f => f.addEventListener('submit', e=>e.preventDefault()));
</script>
</body>
</html>